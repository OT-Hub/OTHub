<div class="alert alert-primary">
<b>How to copy your My Nodes to the new website</b>
<br><br>
1.) Sign up for an account on the new website
<br>
2.) Click the Copy Nodes button below
<br>
3.) Go to the My Nodes Settings page on the new website
<br>
4.) Click Import Nodes and paste your clipboard into the textbox
</div>

<button nbButton status="primary" outline (click)="copyNodes()">Copy Nodes</button>

<br><br><br><br><br><br>

<section class="content">
  <div class="container-fluid">


    <div style="   align-items: center;margin-bottom:10px;">
      <nb-toggle status="primary" [checked]="showDataHolders" style="margin-left:10px;" (checkedChange)="showDataHoldersChanged($event)">Show Data Holders</nb-toggle>

      <nb-toggle status="primary" [checked]="showDataCreators" style="margin-left:10px;" (checkedChange)="showDataCreatorsChanged($event)">Show Data Creators</nb-toggle>
  
      <nb-toggle status="primary" [checked]="showRecentActivity" style="margin-left:10px;" (checkedChange)="showRecentActivityChanged($event)">Show Recent Activity</nb-toggle></div>
  </div>

    <div #dataHoldersView >
      <app-dataholders hideBreadcrumb="true" showOnlyMyNodes="true" [hidden]="showDataHolders != true"
      (afterLoadWithCount)="afterDataHoldersLoad($event)">
    </app-dataholders>

        <!-- <div class="col-lg-8 col-md-12 col-sm-12 col-xs-12">
          <div #dataHoldersView>
              <app-dataholders hideBreadcrumb="true" showOnlyMyNodes="true"
              (afterLoadWithCount)="afterDataHoldersLoad($event)">
            </app-dataholders>
          </div>
   
          </div> -->


    <app-datacreators [hidden]="showDataCreators != true" hideBreadcrumb="true" showOnlyMyNodes="true" (afterLoadWithCount)="afterDataCreatorsLoad($event)" #dataCreators>
    </app-datacreators>

    <div class="row clearfix" *ngIf="showRecentActivity == true">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="overflow-y: auto;" #recentActivityView>
        <nb-card>
          <nb-card-header>Recent Activity</nb-card-header>
          <nb-card-body *ngIf="recentActivity == null || recentActivity.length === 0">
            <p>
              There is no activity to show for the last 7 days! Check back later.
            </p>
          </nb-card-body>
            <nb-list *ngIf="recentActivity != null">
              <nb-list-item *ngFor="let activity of recentActivity">
                <nb-user [name]="myNodeService.GetName(activity.Identity, false)" 
                [title]="'Chosen for job ' + activity.OfferId + ' at ' + (activity.Timestamp | amFromUtc | amLocal | amDateFormat:'LL h:mm A')" [picture]="getIdentityIcon(activity.Identity, 32)"></nb-user>
                <!-- <div>                <a routerLink="/nodes/dataholders/{{activity.Identity}}"><img style="padding-right:5px;" [title]="myNodeService.GetName(activity.Identity, false)" class="notice-object" [src]="getIdentityIcon(activity.Identity, 32)">{{myNodeService.GetName(activity.Identity, false)}}</a>
                </div>
                <div>&nbsp;was chosen for job:&nbsp;<a routerLink="/offers/{{activity.OfferId}}" [title]="activity.OfferId">{{activity.OfferId | slice:0:30}}...</a>
                </div>
                <br>
                <div>
                  <p><span [title]="activity.Timestamp | amFromUtc | amLocal | amDateFormat:'LL h:mm A'">{{activity.Timestamp | amFromUtc | amLocal | amTimeAgo}}</span>

                    <span style="margin-left:8px;">{{formatAmount(activity.TokenAmountPerHolder)}} TRAC</span>
                    <span style="margin-left:8px;">Ends {{activity.EndTimestamp | amFromUtc | amLocal | amDateFormat:'LL h:mm A'}}</span>
                  </p>
                </div> -->
              </nb-list-item>
            </nb-list>
        <!-- <ul class="timeline" *ngIf="recentActivity != null">
          <li *ngFor="let activity of recentActivity">
            <div class="timeline-badge primary">
              <a routerLink="/nodes/dataholders/{{activity.Identity}}"><img [title]="myNodeService.GetName(activity.Identity, false)" class="notice-object" [src]="getIdentityIcon(activity.Identity, 32)"></a>
            </div>
            <div class="timeline-panel">
              <div class="timeline-heading">
                <h5 class="timeline-title">
                  Chosen for Offer: <a routerLink="/offers/{{activity.OfferId}}" [title]="activity.OfferId">{{activity.OfferId | slice:0:30}}...</a>
                </h5>
              </div>
              <div class="timeline-body">
                <p><span [title]="activity.Timestamp | amFromUtc | amLocal | amDateFormat:'LL h:mm A'">{{activity.Timestamp | amFromUtc | amLocal | amTimeAgo}}</span>

                  <span style="margin-left:8px;">{{formatAmount(activity.TokenAmountPerHolder)}} TRAC</span>
                  <span style="margin-left:8px;">Ends {{activity.EndTimestamp | amFromUtc | amLocal | amDateFormat:'LL h:mm A'}}</span>
                </p>
              </div>
            </div>
          </li>
        </ul> -->
    
      </nb-card>
      </div>
    </div>
    <!-- <div class="row clearfix">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <nb-card>
          <nb-card-header> <h2>
            <strong>Manage</strong> Nodes</h2></nb-card-header>
          <nb-card-body>
            <ul class="list-group mynodes" *ngIf="showAddNodeWizard === false && showEditNodeWizard === false">
              <li class="list-group-item" *ngFor="let myNode of MyNodesValues">
                  <img [src]="getIdentityIcon(myNode.Identity, 16)">
                <span> {{myNode.Identity}}</span>
                <span style="margin-left:7px;" class="displayNodeName" *ngIf="myNode.DisplayName">{{myNode.DisplayName}}</span>
                <app-copyclipboardicon 
                                    [textToCopy]="myNode.Identity" style="vertical-align:middle;margin-left:5px;">
                                </app-copyclipboardicon>
                <a href="#" onclick="return false;" class="themeLink" style="margin-left:5px;" (click)="EditMyNode(myNode)" title="Edit"><i
                    class="material-icons">edit</i></a>
                <a href="#" onclick="return false;" class="themeLink" style="margin-left:5px;" (click)="DeleteMyNode(myNode)" title="Delete"><i
                    class="material-icons">delete</i></a>
              </li>
            </ul>
            <fieldset *ngIf="showEditNodeWizard === true">
              <p>Customise how you want this node to be displayed on OT Hub.</p>
              <div class="form-group">
                <div class="form-line">
                  <input type="text" class="form-control" name="identity" placeholder="Identity*" maxlength="42" [value]="EditNode?.Identity"
                    readonly minlength="42" required>
                </div>
              </div>
              <div class="form-group">
                <div class="form-line">
                  <input type="text" class="form-control" name="identity" placeholder="Display Name" maxlength="255" [value]="EditNode?.DisplayName" (input)="EditNode.DisplayName = $event.target.value">
                </div>
                <div class="help-info">Max 255 characters.</div>
              </div>
              <button class="btn btn-primary waves-effect" type="button" (click)="SaveEditNodeClicked()">Save</button>
            </fieldset>
            
            <br>
            <p *ngIf="(MyNodesValues === null || MyNodesValues.length === 0) && showAddNodeWizard === false && showEditNodeWizard === false && canImportOldNodes === false">Click the
              Add Node button to get started.</p>
              <p *ngIf="(MyNodesValues === null || MyNodesValues.length === 0) && showAddNodeWizard === false && showEditNodeWizard === false && canImportOldNodes === true">
                  Your previous favourite nodes can be imported from the old OT Hub website. Alternatively, you can add them again manually by clicking Add Node.
              </p>
            <button class="btn btn-primary waves-effect" type="button" (click)="AddNodeClicked()"
              *ngIf="showAddNodeWizard === false && showEditNodeWizard === false">Add Node</button>
              <button class="btn btn-info waves-effect" type="button" (click)="ImportPrevious()" style="margin-left:5px;"
              *ngIf="showAddNodeWizard === false && showEditNodeWizard === false && canImportOldNodes === true">Import Previous Favourites</button>
            <h3 *ngIf="showAddNodeWizard === true" style="margin-left:7px;margin-bottom:15px;">Add Node</h3>
            <form id="wizard_with_validation" method="POST" [hidden]="showAddNodeWizard === false">
              <h3>Node Search</h3>
              <fieldset>
                <p>Enter your ERC 725 Identity below to begin adding your node to My Nodes.</p>
                <div class="form-group">
                  <div class="form-line">
                    <input type="text" id="searchIdentity" class="form-control" name="identity" placeholder="Identity*"
                      maxlength="42" minlength="42" required>
                  </div>
                  <div class="help-info">42 characters</div>
                </div>
              </fieldset>
              <h3>Node Information</h3>
              <fieldset>
                <div id="nodeInformationLoaded">
                  <p>Check the node found below is correct before continuing.</p>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                      Identity: <span id="nodeInformationIdentity"></span>
                    </li>
                    <li class="list-group-item">
                      Node Id: <span id="nodeInformationNodeId"></span>
                    </li>
                    <li class="list-group-item">
                      Staked Tokens: <span id="nodeInformationStakedTokens"></span>
                    </li>
                    <li class="list-group-item">
                      Locked Tokens: <span id="nodeInformationLockedTokens"></span>
                    </li>
                  </ul>
                </div>
                <div id="nodeInformationLoading">
                  <span style="vertical-align: middle;display:inline-block;margin-right:10px;">Checking your Identity
                    exists on OT Hub...</span>
                  <div class="preloader" style="vertical-align:middle;">
                    <div class="spinner-layer pl-purple">
                      <div class="circle-clipper left">
                        <div class="circle"></div>
                      </div>
                      <div class="circle-clipper right">
                        <div class="circle"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="nodeInformationFailed">
                  <span style="vertical-align: middle;display:inline-block;margin-right:10px;">There was a problem
                    finding your node . Please check the identity you have entered.</span>
                </div>
              </fieldset>
              <h3>Customise Node</h3>
              <fieldset>
                <p>Customise how you want this node to be displayed on OT Hub.</p>
                <div class="form-group">
                  <div class="form-line">
                    <input type="text" id="customiseNodeIdentity" class="form-control" name="identity"
                      placeholder="Identity*" maxlength="42" readonly minlength="42" required>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-line">
                    <input type="text" id="customiseNodeDisplayName" class="form-control" name="identity"
                      placeholder="Display Name" maxlength="255">
                  </div>
                  <div class="help-info">Max 255 characters</div>
                </div>
              </fieldset>
            </form>
            <button class="btn btn-default waves-effect" type="button" (click)="CancelNodeClicked()"
              *ngIf="showAddNodeWizard === true">Cancel</button>
         </nb-card-body>
      </nb-card>
      </div>
    </div> -->
  </div>
</section>